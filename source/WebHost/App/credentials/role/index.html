<div class="container">
    <legend>Roles</legend>
    <div class="btn-group">
        <button class="btn btn-default btn-xs" data-bind="click: Create">Create</button>
    </div>
    <div class="container" data-bind="foreach: roles">
        <table class="table table-condensed">
            <thead>
                <tr>
                    <th data-bind="text: Name" class="span10"></th>
                    <th class="span2"><a href="#" data-bind="click: function () { $parent.DeleteRole($data); }, visible: !IsSystem">Delete</a></th>
                </tr>
            </thead>
            <tbody data-bind="if: !IsSystem">
                <!-- ko foreach: IncludedRoles -->
                <tr>
                    <td>includes <strong data-bind="text: Name"></strong></td>
                    <td><a href="#" data-bind="click: function () { $parents[1].ExcludeRole($data, $parent); }">Exclude</a></td>
                </tr>
                <!-- /ko -->
                <!-- ko foreach: Permissions -->
                <tr>
                    <td data-bind="text: Name"></td>
                    <td><a href="#" data-bind="click: function () { $parents[1].DeletePermission($data, $parent); }">Delete</a></td>
                </tr>
                <!-- /ko -->
            </tbody>
            <tbody data-bind="if: IsSystem">
                <tr>
                    <td colspan="2">This role is a system role.  It's permissions are preset and cannot be changed.</td>
                </tr>
            </tbody>
            <tfoot data-bind="if: !IsSystem">
                <tr>
                    <td colspan="2">
                        <button class="btn btn-default" data-bind="click: $parent.AssignPermissions">Assign Permissions</button>
                        <button class="btn btn-default" data-bind="click: $parent.IncludeRoles">Include Role</button>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>